

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="chaye">
  <meta name="keywords" content="">
  
    <meta name="description" content="图片篇【CTF&#x2F;MISC】图片隐写题（binwalk&#x2F;foremost&#x2F;010editer配合使用）_binwalk和foremost区别-CSDN博客解题思路先用binwalk和010看一下有没有隐藏文件分离文件用binwalk分离文件，使用dd命令分离出隐藏文件： 从分析的结果看，这个jpg文件隐藏着一个zip文件，从48221块偏移开始就是zip文件。 dd i">
<meta property="og:type" content="article">
<meta property="og:title" content="chaye的博客">
<meta property="og:url" content="http://example.com/2026/01/19/MISC/%E7%85%A7%E7%89%87/%E5%9B%BE%E7%89%87%E7%AF%87/index.html">
<meta property="og:site_name" content="chaye的博客">
<meta property="og:description" content="图片篇【CTF&#x2F;MISC】图片隐写题（binwalk&#x2F;foremost&#x2F;010editer配合使用）_binwalk和foremost区别-CSDN博客解题思路先用binwalk和010看一下有没有隐藏文件分离文件用binwalk分离文件，使用dd命令分离出隐藏文件： 从分析的结果看，这个jpg文件隐藏着一个zip文件，从48221块偏移开始就是zip文件。 dd i">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722227072142-346b9241-bfe7-4f7d-a1dc-7b5c80bd131a-938543.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722227208966-152c9565-b402-4688-9d80-def766efba4b-668118.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722227215544-ef217cc4-940c-4031-b463-43a0d48f830d-011012.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722227238415-eefed1c1-83f7-4710-8da0-85ba0fbd88dd-462766.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1715249478476-fc4500f4-d179-4a9e-8ca3-b739743ed423-487554.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1715249511415-c2ce3779-2cd3-4e8f-bf8a-75c7641c71f1-452248.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721534712007-da04c1a2-5b4e-4d4b-935e-935702e94f33-078567.jpeg">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721534742420-e0aae4c9-c3d6-4be8-9c97-38cd606e9676-939587.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721534817317-58e0778d-d41d-47c9-85a2-0daa18ac8ef7-090734.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721534867048-cfb35324-ef76-4b05-a0f6-27d95d489e8a-550528.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721534882149-2d12eb22-371b-4abb-ac4d-d1d27b38046d-920547.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721535104886-aa7f80f0-ec51-47c0-bf5b-80453a32486e-224289.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721535117087-9c372e07-09f5-468d-a805-bec799a41f0d-616416.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722229616462-a9951747-cbf4-4ddc-80ed-aab4cbe27f13-968397.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722229641546-ec2c771e-f038-454b-ad30-9059ba9bf492-285667.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722229659789-5e207ca4-08d0-4d91-8414-05f4a1b2c6b9-505080.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722229707018-fc66d563-d22f-4dd9-a380-461395f614f6-378268.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1715054146758-623905de-c1f4-4658-91ff-83bad4339b94-672976.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721534005331-039c8886-51a0-42b6-b33f-fbd0edb13b1f-785981.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721539254449-501db621-4cc5-4e99-a84d-b0975be3491c-892982.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721539350281-6cc0a2ec-2f7e-43f4-a2cb-0bfba9874791-851067.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721539382384-a70b6082-5773-4558-98b2-748130f2eaf0-069891.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721539469329-29d09708-cbe3-4d34-97e1-88a2a30c729e-403444.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1729739496204-0fcf2c16-4829-4e7e-a8b9-6213666fde82-669171.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1729738671828-36a4e6be-4cfb-44ec-ad94-e8993c5de042-496226.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722418142230-f739c136-5ecc-4738-8168-c5424d2a09fd-800058.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722418182473-67a01e3c-6e77-4885-a82f-4525676b312f-834533.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721530867903-b160973e-73f3-48e2-8271-67395883788e-397458.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721530970382-dc2b63e4-583c-4ee2-9de2-4643e620a363-148498.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721531075324-2af49cbd-7c82-4b7e-84e7-c89b7c9c0af5-338711.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721533018558-200ec574-c30c-44b1-b59e-582e63e077fa-543321.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721532629177-f7b7ac2f-2653-4153-b0d5-e8017bc8b2bc-157668.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721552601695-f99eaca6-7241-45b9-8178-a894c4a0eee0-956843.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1721552673915-609cbb49-5669-4cf7-92e7-39f9cca2bcc5-366071.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722153892231-5cdd1d87-5c1e-4d44-9457-cfb16f9f8f76-617566.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722154001851-09b4f908-068c-4ed1-8cfb-8f537bf3d992-199528.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722155299590-223a0034-b066-4ad8-9b54-6265cca526f1-933763.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722155333880-407a6ca3-474a-4351-a010-1c5f0c20e5e0-263033.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722155366533-c5aeb149-1a24-4d61-81d1-0829fd13a00a-056898.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722226740367-4fc2cde2-6f55-40e5-a749-f755e45ba6a6-090904.png">
<meta property="og:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722227445187-6b1853cf-1ac0-44eb-913b-c53b8526863f-315949.jpeg">
<meta property="article:published_time" content="2026-01-19T05:29:05.962Z">
<meta property="article:modified_time" content="2025-11-04T06:16:12.430Z">
<meta property="article:author" content="chaye">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/49277317_Y7IwpiPMo_LbkTHd/1722227072142-346b9241-bfe7-4f7d-a1dc-7b5c80bd131a-938543.png">
  
  
  
  <title>chaye的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>chaye</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text=""></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2026-01-19 13:29" pubdate>
          January 19, 2026 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.5k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          38 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header"></h1>
            
            
              <div class="markdown-body">
                
                <h1 id="图片篇"><a href="#图片篇" class="headerlink" title="图片篇"></a>图片篇</h1><h1 id="【CTF-MISC】图片隐写题（binwalk-foremost-010editer配合使用）-binwalk和foremost区别-CSDN博客"><a href="#【CTF-MISC】图片隐写题（binwalk-foremost-010editer配合使用）-binwalk和foremost区别-CSDN博客" class="headerlink" title="【CTF&#x2F;MISC】图片隐写题（binwalk&#x2F;foremost&#x2F;010editer配合使用）_binwalk和foremost区别-CSDN博客"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/mengmeng0510/article/details/120933296">【CTF&#x2F;MISC】图片隐写题（binwalk&#x2F;foremost&#x2F;010editer配合使用）_binwalk和foremost区别-CSDN博客</a></h1><h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><h2 id="先用binwalk和010看一下有没有隐藏文件"><a href="#先用binwalk和010看一下有没有隐藏文件" class="headerlink" title="先用binwalk和010看一下有没有隐藏文件"></a>先用binwalk和010看一下有没有隐藏文件</h2><h2 id="分离文件"><a href="#分离文件" class="headerlink" title="分离文件"></a>分离文件</h2><h3 id="用binwalk分离文件，使用dd命令分离出隐藏文件："><a href="#用binwalk分离文件，使用dd命令分离出隐藏文件：" class="headerlink" title="用binwalk分离文件，使用dd命令分离出隐藏文件："></a>用binwalk分离文件，<font style="color:rgb(51, 51, 51);">使用dd命令分离出隐藏文件：</font></h3><p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722227072142-346b9241-bfe7-4f7d-a1dc-7b5c80bd131a-938543.png" srcset="/img/loading.gif" lazyload alt="1722227072142-346b9241-bfe7-4f7d-a1dc-7b5c80bd131a.png"></p>
<p><font style="color:rgb(51, 51, 51);">从分析的结果看，这个jpg文件隐藏着一个zip文件，从48221块偏移开始就是zip文件。</font></p>
<p>dd if&#x3D;1.jpg of&#x3D;1.zip skip&#x3D;48221 bs&#x3D;1</p>
<p><font style="color:rgb(51, 51, 51);">解释：if 指定输入文件，of 指定输出文件，skip 指定从输入文件开头跳过48221个块后开始复制，bs设</font><br><font style="color:rgb(51, 51, 51);">置每次读写块的大小为1字节</font></p>
<h3 id="用foremost分离文件"><a href="#用foremost分离文件" class="headerlink" title="用foremost分离文件"></a><font style="color:rgb(51, 51, 51);">用foremost分离文件</font></h3><p> foremost 1.jpg</p>
<p><font style="color:rgb(51, 51, 51);">执行命令后，foremost会生成output目录存放分离出的文件。</font></p>
<h3 id="hex编辑器分离文件"><a href="#hex编辑器分离文件" class="headerlink" title="hex编辑器分离文件"></a><font style="color:rgb(51, 51, 51);">hex编辑器分离文件</font></h3><p><font style="color:rgb(51, 51, 51);">hex编辑器有很多，win下有用得较多的winhex、UltraEdit等，linux下有hexeditor等。这里我们以winhex为例来手动分离。</font></p>
<p><font style="color:rgb(51, 51, 51);">一个完整的 jpg 文件由 FF D8 开头，FF D9结尾，图片查看器会忽略 FF D9 以后的内容，因此可以在 jpg 文件中加入其他文件。</font></p>
<p><font style="color:rgb(51, 51, 51);">经过上面的分析， 知道图片中隐藏了zip文件，zip文件的开头16进制为504B0304，先搜索16进制文本 FFD9，然后后面跟着504B0304，于是就可以从 50 开始，复制到最后（因为这里只有一个zip，所以复制到最后），另存为新文件，就得到了隐藏的压缩包。</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722227208966-152c9565-b402-4688-9d80-def766efba4b-668118.png" srcset="/img/loading.gif" lazyload alt="1722227208966-152c9565-b402-4688-9d80-def766efba4b.png"></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722227215544-ef217cc4-940c-4031-b463-43a0d48f830d-011012.png" srcset="/img/loading.gif" lazyload alt="1722227215544-ef217cc4-940c-4031-b463-43a0d48f830d.png"></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722227238415-eefed1c1-83f7-4710-8da0-85ba0fbd88dd-462766.png" srcset="/img/loading.gif" lazyload alt="1722227238415-eefed1c1-83f7-4710-8da0-85ba0fbd88dd.png"></p>
<h3 id="改后缀名"><a href="#改后缀名" class="headerlink" title="改后缀名"></a>改后缀名</h3><p><font style="color:rgb(51, 51, 51);">分析知道隐藏文件是zip后，有一个简单粗暴的方法是直接把图片的后缀改为.zip，然后解压即可（这种方法虽然简单快速，但如果隐写了多个文件时可能会失败）。</font></p>
<h1 id="PNG文件格式详解"><a href="#PNG文件格式详解" class="headerlink" title="PNG文件格式详解"></a><font style="color:rgb(34, 34, 38);">PNG文件格式详解</font></h1><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a><font style="color:rgb(79, 79, 79);">概述</font></h3><p><font style="color:rgb(77, 77, 77);">PNG是20世纪90年代中期开始开发的图像文件存储格式，其目的是替代GIF和</font><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=TIFF&spm=1001.2101.3001.7020">TIFF</a><font style="color:rgb(77, 77, 77);">文件格式，同时增加一些GIF文件格式所不具备的特性。流式网络图形格式(Portable Network Graphic Format，PNG)名称来源于非官方的“PNG’s Not GIF”，是一种位图文件(bitmap file)存储格式，读成“ping”。PNG用来存储灰度图像时，灰度图像的深度可多到16位，存储彩色图像时，彩色图像的深度可多到48位，并且还可存储多到16位的α通道数据。PNG使用从LZ77派生的无损数据压缩算法。（说白了这就是一种方便的、适于网络传播的轻便图片文件格式）</font></p>
<h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a><font style="color:rgb(79, 79, 79);">特性</font></h3><ol>
<li><font style="color:rgb(51, 51, 51);">使用调色板技术可支持256种颜色的彩色图像。（必须的）</font></li>
<li><font style="color:rgb(51, 51, 51);">流式读&#x2F;写性(streamability)：图像文件格式允许连续读出和写入图像数据。（因此适于网络传播）</font></li>
<li><font style="color:rgb(51, 51, 51);">逐次逼近显示(progressive display)：这种特性可使在通信链路上传输图像文件的同时就在终端上显示图像，把整个轮廓显示出来之后逐步显示图像的细节，也就是先用低分辨率显示图像，然后逐步提高它的分辨率。（类似马赛克逐渐消除的过程）</font></li>
<li><font style="color:rgb(51, 51, 51);">透明性(transparency)：这个性能可使图像中某些部分不显示出来，用来创建一些有特色的图像。</font></li>
<li><font style="color:rgb(51, 51, 51);">辅助信息(ancillary information)：这个特性可用来在图像文件中存储一些文本注释信息。（就是可以说一些废话）</font></li>
<li><font style="color:rgb(51, 51, 51);">独立于计算机软硬件环境。</font></li>
<li><font style="color:rgb(51, 51, 51);">使用无损压缩。（无损！）</font></li>
<li><font style="color:rgb(51, 51, 51);">可在一个文件中存储多幅图像。</font></li>
</ol>
<h3 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a><font style="color:rgb(79, 79, 79);">文件结构</font></h3><p><font style="color:rgb(77, 77, 77);">PNG图像格式文件由文件署名和数据块(chunk)组成。</font></p>
<h4 id="文件署名域"><a href="#文件署名域" class="headerlink" title="文件署名域"></a><font style="color:rgb(79, 79, 79);">文件署名域</font></h4><p><font style="color:rgb(77, 77, 77);">8字节的PNG文件署名域用来识别该文件是不是PNG文件。该域的值是：</font></p>
<table>
<thead>
<tr>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">十进制数</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">十六进制数</font></strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><font style="color:rgb(79, 79, 79);">137</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">89</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">80</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">50</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">78</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">4e</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">71</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">47</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">13</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">0d</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">10</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">0a</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">26</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">1a</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">10</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">0a</font></td>
</tr>
</tbody></table>
<p><font style="color:rgb(77, 77, 77);">这个文件署名就是在</font><a target="_blank" rel="noopener" href="https://blog.mythsman.com/2015/12/01/1/">《利用文件头标志判断文件类型》</a><font style="color:rgb(77, 77, 77);">中提到的文件头标志了，很简单。</font></p>
<h4 id="数据块"><a href="#数据块" class="headerlink" title="数据块"></a><font style="color:rgb(79, 79, 79);">数据块</font></h4><p><font style="color:rgb(77, 77, 77);">这里有两种类型的数据块，一种是称为关键数据块(critical chunk)，就是必须要有的块；另一种叫做辅助数据块(ancillary chunks)。</font></p>
<p><font style="color:rgb(77, 77, 77);">每个数据块都由下表所示的的4个域组成。</font></p>
<table>
<thead>
<tr>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">名称</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">字节数</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">说明</font></strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Length(长度)</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">4字节</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">指定数据块中数据域的长度，其长度不超过(231−1)(231−1)字节</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Chunk Type Code(数据块类型码)</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">4字节</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">数据块类型码由ASCII字母(A-Z和a-z)组成</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Chunk Data(数据块实际内容</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">可变长度</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">存储按照Chunk Type Code指定的数据</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">CRC(循环冗余检测</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">4字节</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">存储用来检测是否有错误的循环冗余码</font></td>
</tr>
</tbody></table>
<p><font style="color:rgb(77, 77, 77);">其中CRC(cyclic redundancy check)域中的值是对Chunk Type Code域和Chunk Data域中的数据进行计算得到的，可以看做一种校验码。</font></p>
<h4 id="关键数据块"><a href="#关键数据块" class="headerlink" title="关键数据块"></a><font style="color:rgb(79, 79, 79);">关键数据块</font></h4><p><font style="color:rgb(77, 77, 77);">关键数据块中的4个标准数据块是：</font></p>
<p><font style="color:rgb(77, 77, 77);">(1) 文件头数据块IHDR(header chunk)：</font></p>
<p><font style="color:rgb(77, 77, 77);">它包含有PNG文件中存储的图像数据的基本信息，并要作为第一个数据块出现在PNG数据流中，而且一个PNG数据流中只能有一个文件头数据块。</font></p>
<p><font style="color:rgb(77, 77, 77);">文件头数据块由13字节，组成结构如下：</font></p>
<table>
<thead>
<tr>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">域的名称</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">字节数</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">说明</font></strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Width</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">4 bytes</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像宽度，以像素为单位</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Height</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">4 bytes</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像高度，以像素为单位</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Bit depth</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">1 byte</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像深度：索引彩色图像：1，2，4或8 ;灰度图像：1，2，4，8或16 ;真彩色图像：8或16</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">ColorType</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">1 byte</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">颜色类型：0：灰度图像, 1，2，4，8或16;2：真彩色图像，8或16;3：索引彩色图像，1，2，4或84：带α通道数据的灰度图像，8或16;6：带α通道数据的真彩色图像，8或16</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Compression method</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">1 byte</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">压缩方法(LZ77派生算法)</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Filter method</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">1 byte</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">滤波器方法</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Interlace method</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">1 byte</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">隔行扫描方法：0：非隔行扫描;1： Adam7(由Adam M. Costello开发的7遍隔行扫描方法)</font></td>
</tr>
</tbody></table>
<p><font style="color:rgb(77, 77, 77);">(2) 调色板数据块PLTE(palette chunk)：</font></p>
<p><font style="color:rgb(77, 77, 77);">它包含有与索引彩色图像((indexed-color image))相关的彩色变换数据，它仅与索引彩色图像有关，而且要放在图像数据块(image data chunk)之前。真彩色的PNG数据流也可以有调色板数据块，目的是便于非真彩色显示程序用它来量化图像数据，从而显示该图像。结构如下：</font></p>
<p><font style="color:rgb(77, 77, 77);">|颜色|字节|意义|<br></font><font style="color:rgb(77, 77, 77);">|Red|1 byte||0 &#x3D; 黑色, 255 &#x3D; 红|<br></font><font style="color:rgb(77, 77, 77);">|Green|1 byte||0 &#x3D; 黑色, 255 &#x3D; 绿色|<br></font><font style="color:rgb(77, 77, 77);">|Blue|1 byte||0 &#x3D; 黑色, 255 &#x3D; 蓝色|</font></p>
<p><font style="color:rgb(77, 77, 77);">PLTE数据块是定义图像的调色板信息，PLTE可以包含1~256个调色板信息，每一个调色板信息由3个字节组成，因此调色板数据块所包含的最大字节数为768，调色板的长度应该是3的倍数，否则，这将是一个非法的调色板。</font></p>
<p><font style="color:rgb(77, 77, 77);">对于索引图像，调色板信息是必须的，调色板的颜色索引从0开始编号，然后是1、2……，调色板的颜色数不能超过色深中规定的颜色数（如图像色深为4的时候，调色板中的颜色数不可以超过2^4&#x3D;16），否则，这将导致PNG图像不合法。</font></p>
<p><font style="color:rgb(77, 77, 77);">(3) 图像数据块IDAT(image data chunk)：</font></p>
<p><font style="color:rgb(77, 77, 77);">它存储实际的数据，在数据流中可包含多个连续顺序的图像数据块。</font></p>
<p><font style="color:rgb(77, 77, 77);">IDAT存放着图像真正的数据信息，因此，如果能够了解IDAT的结构，我们就可以很方便的生成PNG图像。</font></p>
<p><font style="color:rgb(77, 77, 77);">(4) 图像结束数据IEND(image trailer chunk)：</font></p>
<p><font style="color:rgb(77, 77, 77);">它用来标记PNG文件或者数据流已经结束，并且必须要放在文件的尾部。</font></p>
<p><font style="color:rgb(77, 77, 77);">如果我们仔细观察PNG文件，我们会发现，文件的结尾12个字符看起来总应该是这样的：</font></p>
<p><font style="color:rgb(77, 77, 77);">00 00 00 00 49 45 4E 44 AE 42 60 82</font></p>
<p><font style="color:rgb(77, 77, 77);">不难明白，由于数据块结构的定义，IEND数据块的长度总是0（00 00 00 00，除非人为加入信息），数据标识总是IEND（49 45 4E 44），因此，CRC码也总是AE 42 60 82。</font></p>
<p><font style="color:rgb(77, 77, 77);">最后，除了表示数据块开始的IHDR必须放在最前面， 表示PNG文件结束的IEND数据块放在最后面之外，其他数据块的存放顺序没有限制。</font></p>
<h4 id="辅助数据块"><a href="#辅助数据块" class="headerlink" title="辅助数据块"></a><font style="color:rgb(79, 79, 79);">辅助数据块</font></h4><p><font style="color:rgb(77, 77, 77);">（比较杂，不需要全部了解透）</font></p>
<p><font style="color:rgb(77, 77, 77);">PNG文件格式规范制定的10个辅助数据块是：</font></p>
<ol>
<li><font style="color:rgb(51, 51, 51);">背景颜色数据块bKGD(background color)。</font></li>
<li><font style="color:rgb(51, 51, 51);">基色和白色度数据块cHRM(primary chromaticities and white point)。所谓白色度是指当R＝G＝B＝最大值时在显示器上产生的白色度。</font></li>
<li><font style="color:rgb(51, 51, 51);">图像γ数据块gAMA(image gamma)。</font></li>
<li><font style="color:rgb(51, 51, 51);">图像直方图数据块hIST(image histogram)。</font></li>
<li><font style="color:rgb(51, 51, 51);">物理像素尺寸数据块pHYs(physical pixel dimensions)。</font></li>
<li><font style="color:rgb(51, 51, 51);">样本有效位数据块sBIT(significant bits)。</font></li>
<li><font style="color:rgb(51, 51, 51);">文本信息数据块tEXt(textual data)。</font></li>
<li><font style="color:rgb(51, 51, 51);">图像最后修改时间数据块tIME (image last-modification time)。</font></li>
<li><font style="color:rgb(51, 51, 51);">图像透明数据块tRNS (transparency)。</font></li>
<li><font style="color:rgb(51, 51, 51);">压缩文本数据块zTXt (compressed textual data)。</font></li>
</ol>
<h4 id="数据块摘要"><a href="#数据块摘要" class="headerlink" title="数据块摘要"></a><font style="color:rgb(79, 79, 79);">数据块摘要</font></h4><p><font style="color:rgb(77, 77, 77);">关键数据块、辅助数据块和专用公共数据块(special-purpose public chunks)综合下表中：</font></p>
<table>
<thead>
<tr>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">数据块符号</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">数据块名称</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">多数据块</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">可选否</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">位置限制</font></strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><font style="color:rgb(79, 79, 79);">IHDR</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">文件头数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">第一块</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">cHRM</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">基色和白色点数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在PLTE和IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">gAMA</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像γ数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在PLTE和IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">sBIT</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">样本有效位数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在PLTE和IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">PLTE</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">调色板数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">bKGD</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">背景颜色数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在PLTE之后IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">hIST</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像直方图数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在PLTE之后IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">tRNS</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像透明数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在PLTE之后IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">oFFs</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">(专用公共数据块)</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">pHYs</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">物理像素尺寸数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">sCAL</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">(专用公共数据块)</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">在IDAT之前</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">IDAT</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">与其他IDAT连续</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">tIME</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像最后修改时间数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">无限制</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">tEXt</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">文本信息数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">无限制</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">zTXt</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">压缩文本数据块</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">无限制</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">fRAc</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">(专用公共数据块)</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">无限制</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">gIFg</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">(专用公共数据块)</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">无限制</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">gIFt</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">(专用公共数据块)</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">无限制</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">gIFx</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">(专用公共数据块)</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">是</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">无限制</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">IEND</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像结束数据</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">否</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">最后一个数据块</font></td>
</tr>
</tbody></table>
<p><font style="color:rgb(77, 77, 77);">tEXt和zTXt数据块中的标准关键字：</font></p>
<table>
<thead>
<tr>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">关键字</font></strong></th>
<th align="left"><strong><font style="color:rgb(79, 79, 79);">说明</font></strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Title</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像名称或者标题</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Author</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像作者名</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Description</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像说明</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Copyright</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">版权声明</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">CreationTime</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">原图创作时间</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Software</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">创作图像使用的软件</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Disclaimer</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">弃权</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Warning</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">图像内容警告</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Source</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">创作图像使用的设备</font></td>
</tr>
<tr>
<td align="left"><font style="color:rgb(79, 79, 79);">Comment</font></td>
<td align="left"><font style="color:rgb(79, 79, 79);">各种注释</font></td>
</tr>
</tbody></table>
<h3 id="一个例子"><a href="#一个例子" class="headerlink" title="一个例子"></a><font style="color:rgb(79, 79, 79);">一个例子</font></h3><p><font style="color:rgb(77, 77, 77);">为了便于研究，我在本地找了个24x24像素的图片：</font></p>
<p><font style="color:rgb(77, 77, 77);">用十六进制打开后是这样的：</font></p>
<p>| <code>plain 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 </code>  | <code>plain 0000000: 8950 4e47 0d0a 1a0a 0000 000d 4948 4452  .PNG........IHDR 0000010: 0000 0018 0000 0018 0806 0000 00e0 773d  ..............w= 0000020: f800 0000 1974 4558 7453 6f66 7477 6172  .....tEXtSoftwar 0000030: 6500 4164 6f62 6520 496d 6167 6552 6561  e.Adobe ImageRea 0000040: 6479 71c9 653c 0000 0344 4944 4154 78da  dyq.e&lt;...DIDATx. 0000050: b454 4b48 5b51 10bd 792f 2646 a346 7411  .TKH[Q..y/&amp;F.Ft. 0000060: 450b cac3 6840 8c14 0242 8542 e9aa ab42  E...h@...B.B...B 0000070: 5785 8614 c428 b4d0 5569 b108 5dbb 29b4  W....(..Ui..].). 0000080: 1b05 a5ab 6cb3 2a14 0ab5 8b42 75a3 d188  ....l.*....Bu... 0000090: 82c6 0ff1 4320 a2e2 2f7e 12ed 9c47 e671  ....C ../~...G.q 00000a0: 8d2f 8950 3a30 dcc7 bb33 67e6 cee7 5826  ./.P:0...3g...X&amp; 00000b0: 2626 8499 288a a2ab d56a d555 55d5 57d7  &amp;&amp;..(....j.UU.W. 00000c0: d7d7 be6c 36fb fef2 f232 45a7 b8ba ba12  ...l6....2E..... 00000d0: c160 5014 13ab d94f 8bc5 72e3 24e0 1e9f  .`P....O..r.$... 00000e0: cff7 b9ae ae4e 4c4e 4eda 3299 4c00 777c  .....NLNN.2.L.w| 00000f0: 5f4c 1472 16f9 9a07 2e6a 6b6b 875a 5b5b  _L.r.....jkk.Z[[ 0000100: 454d 4d8d e8ea ea7a 4eff 3ce2 8ea2 3018  EMM....zN.&lt;...0. 0000110: 94cb c28a 7f04 765f d3b4 27ec d0d8 d8a8  ......v_..&#39;..... 0000120: 5655 55bd 639b 9201 a8b6 a8af 516b 9bcd  VUU.c.......Qk.. 0000130: 26ca caca f46f 0020 7bb7 db6d 38d8 ed76  &amp;....o. &#123;..m8..v 0000140: d1d1 d1f1 82ee 34d8 940c 0023 00c2 11e0  ......4....#.... 0000150: 1c20 975d 2781 3d75 381c 379c 9a9b 9b55  . .]&#39;.=u8.7....U 0000160: 2ad7 1012 bb73 0028 c073 1373 8f02 3c68  *....s.(.s.s..&lt;h 0000170: 6b6b fb44 25b9 e554 5e5e 2eba bbbb f18a  kk.D%..T^^...... 0000180: c791 4844 2b16 c012 0e87 fd04 faac bebe  ..HD+........... 0000190: be85 cad1 e272 b97c 04a0 e245 4ea7 530f  .....r.|...EN.S. 00001a0: 5c48 8e8f 8f45 3a9d d6f5 f0f0 7091 747b  \H...E:.....p.t&#123; 00001b0: 7777 779d feff a649 0b07 0281 acb5 baba  www....I........ 00001c0: fa97 dfef 7710 7041 309e 2c79 ba20 4800  ....w.pA0.,y. H. 00001d0: 9a13 2f81 7a11 7479 79b9 3f16 8ba1 ae63  ../.z.tyy.?....c 00001e0: caf9 f979 120b 83c5 81e6 03e3 8e4f 59e5  ...y.........OY. 00001f0: a010 5e3c f405 2705 dbd6 7b90 4aa5 1ecd  ..^&lt;..&#39;...&#123;.J... 0000200: cdcd 250e 0e0e c4c5 c585 a080 fa49 0686  ..%..........I.. 0000210: 1303 ca81 7007 1bf6 c1f7 d9d9 9958 5b5b  ....p........X[[ 0000220: 1384 f73a 140a 7de3 3d58 27e9 8d46 a371  ...:..&#125;.=X&#39;..F.q 0000230: 0491 c14a 89fc 1204 01f8 d4d4 1461 87be  ...J.........a.. 0000240: e46f 7262 6363 a377 6666 6671 6f6f cfc8  .orbcc.wfffqoo.. 0000250: dc6c cb65 651b 3439 1e8f 03bc 8fc0 c70a  .l.ee.49........ 0000260: 5145 3291 483c 5c58 5888 a251 a5c0 5989  QE2.H&lt;\XX..Q..Y. 0000270: f8c4 d6d6 5676 7a7a fae5 c0c0 c0f8 ad3d  ....Vvzz.......= 0000280: c823 ac14 3df3 c3d1 d191 d1e4 620a 5f94  .#..=.......b._. 0000290: 6673 7333 3238 38f8 b520 9be6 3887 ff79  fss3288.. ..8..y 00002a0: 989b f85f 7e3f e4a4 b0f1 74af 1525 3b36  ..._~?....t..%;6 00002b0: 8423 ed45 6745 4585 012c 4f92 3c41 fc02  .#.EgEE..,O.&lt;A.. 00002c0: d008 ed90 7774 74d4 5694 4df9 248e f182  ....wtt.V.M.$... 00002d0: 3278 4ccd 9aca 8161 039f caca 4a80 9b52  2xL....a....J..R 00002e0: b855 1e49 3a55 32f6 c209 60bc 4068 3aa6  .U.I:U2...`.@h:. 00002f0: 8b1a 9aa6 041c 4429 3a6f 7150 3000 9d9d  ......D):oqP0... 0000300: 641e 33ed 8114 a485 0238 4178 703c 3939  d.3......8Axp&lt;99 0000310: 11c9 6452 acac acfc 248e 798b 9d21 b0e1  ..dR....$.y..!.. 0000320: f6f6 f6fe a6a6 2683 5ec0 5b94 948f eec3  ......&amp;.^.[..... 0000330: 055f c001 3015 5838 64bc baba 1add d9d9  ._..0.X8d....... 0000340: 01f0 0f76 a0cd 7d33 3f3f 3f42 73ff d1e3  ...v..&#125;3???Bs... 0000350: f104 1b1a 1a54 f890 6805 a748 9a92 3fb4  .....T..h..H..?. 0000360: e6df 691f dcfb fbfb 2366 19e5 64fb f4f4  ..i.....#f..d... 0000370: b46f 7676 7664 6969 6998 5ed1 43fd 1837  .ovvvdiii.^.C..7 0000380: a5eb bb50 c2bf 8822 feb3 fc15 6000 74fe  ...P...&quot;....`.t. 0000390: 7622 c159 82da 0000 0000 4945 4e44 ae42  v&quot;.Y......IEND.B 00003a0: 6082 0a                                  `.. </code>  |<br>| — | — |</p>
<p><font style="color:rgb(77, 77, 77);">接下来我们试着分析一下：</font></p>
<p><font style="color:rgb(77, 77, 77);">首先是八个字节的文件头标志，标识着png文件：</font></p>
<table>
<thead>
<tr>
<th><code>plain 1 </code></th>
<th><code>plain 8950 4e47 0d0a 1a0a </code></th>
</tr>
</thead>
</table>
<p><font style="color:rgb(77, 77, 77);">接下来的地方就是IHDR数据块了：</font></p>
<p><font style="color:rgb(77, 77, 77);">0000 000d</font><font style="color:rgb(77, 77, 77);">说明IHDR头块长为13</font></p>
<p><font style="color:rgb(77, 77, 77);">4948 4452</font><font style="color:rgb(77, 77, 77);">IHDR标识（ascii码为IHDR）</font></p>
<p><font style="color:rgb(77, 77, 77);">下面是IHDR数据块的实际内容</font></p>
<p><font style="color:rgb(77, 77, 77);">0000 0018</font><font style="color:rgb(77, 77, 77);">图像的宽，24像素</font></p>
<p><font style="color:rgb(77, 77, 77);">0000 0018</font><font style="color:rgb(77, 77, 77);">图像的高，24像素</font></p>
<p><font style="color:rgb(77, 77, 77);">08</font><font style="color:rgb(77, 77, 77);"> 表示色深，这里是2^8&#x3D;256，即这是一个256色的图像</font></p>
<p><font style="color:rgb(77, 77, 77);">06</font><font style="color:rgb(77, 77, 77);"> 颜色类型，查表可知这是带α通道数据的真彩色图像</font></p>
<p><font style="color:rgb(77, 77, 77);">00</font><font style="color:rgb(77, 77, 77);"> PNG Spec规定此处总为0（非0值为将来使用更好的压缩方法预留），表示使压缩方法(LZ77派生算法)</font></p>
<p><font style="color:rgb(77, 77, 77);">00</font><font style="color:rgb(77, 77, 77);"> 同上</font></p>
<p><font style="color:rgb(77, 77, 77);">00</font><font style="color:rgb(77, 77, 77);"> 非隔行扫描</font></p>
<p><font style="color:rgb(77, 77, 77);">e0 773d f8</font><font style="color:rgb(77, 77, 77);"> CRC校验</font></p>
<p><font style="color:rgb(77, 77, 77);">以上分析了第一个IHDR块的内容，其他块的分析方法类似，比如接下来的就是tEXt块了，很简单，不做分析了。（当然这里还有重要的IDAT块，这是图像的实际内容）</font></p>
<p><font style="color:rgb(77, 77, 77);">最后得有个IEND数据块，这部分正如上所说，通常都应该是</font></p>
<p><font style="color:rgb(77, 77, 77);">00 00 00 00 49 45 4E 44 AE 42 60 82</font></p>
<p><font style="color:rgb(77, 77, 77);">由于我用的是vim打开，vim在文件最后都会恶心的自己加上0a换行，当然这并没有什么坏的影响。不过这也提醒了我们一个问题，既然在IEND块后面添加任何的字符都对文件的打开造成不了影响，那我们就可以在这里藏一些数据了（当然这种藏法很low）。。。</font></p>
<p><font style="color:rgb(77, 77, 77);">OK，这就是png文件的基本构造了。</font></p>
<h2 id="例题：可能会修改文件名"><a href="#例题：可能会修改文件名" class="headerlink" title="例题：可能会修改文件名"></a><font style="color:rgb(77, 77, 77);">例题：可能会修改文件名</font></h2><p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1715249478476-fc4500f4-d179-4a9e-8ca3-b739743ed423-487554.png" srcset="/img/loading.gif" lazyload alt="1715249478476-fc4500f4-d179-4a9e-8ca3-b739743ed423.png"></p>
<p>可能是头文件出问题</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1715249511415-c2ce3779-2cd3-4e8f-bf8a-75c7641c71f1-452248.png" srcset="/img/loading.gif" lazyload alt="1715249511415-c2ce3779-2cd3-4e8f-bf8a-75c7641c71f1.png"></p>
<p>看上面的8个字节头文件标志</p>
<p>89 50 4E 47 0D 0A 1A 0A</p>
<p>改完就可以打开图片了</p>
<h1 id="文件结构-1"><a href="#文件结构-1" class="headerlink" title="文件结构"></a>文件结构</h1><h3 id="JPG-FFD8FF-FFD9"><a href="#JPG-FFD8FF-FFD9" class="headerlink" title="JPG FFD8FF   FFD9"></a>JPG FFD8FF   FFD9</h3><h3 id="PNG-89-50-4E-47-0D-0A-1A-0A"><a href="#PNG-89-50-4E-47-0D-0A-1A-0A" class="headerlink" title="PNG 89 50 4E 47 0D 0A 1A 0A"></a>PNG 89 50 4E 47 0D 0A 1A 0A</h3><h2 id="文件的使用"><a href="#文件的使用" class="headerlink" title="文件的使用"></a>文件的使用</h2><p>Qr_research</p>
<p>Stegsolve</p>
<p>Winhex10</p>
<p>各种隐写、爆破脚本</p>
<h2 id="猜测出题人的思路"><a href="#猜测出题人的思路" class="headerlink" title="猜测出题人的思路"></a>猜测出题人的思路</h2><h2 id="CTF常见套路"><a href="#CTF常见套路" class="headerlink" title="CTF常见套路"></a>CTF常见套路</h2><p>附加字符串</p>
<p>字符串隐藏在图片中</p>
<p>使用strings命令查看</p>
<p>string 1.jpg</p>
<h1 id="kali工具使用"><a href="#kali工具使用" class="headerlink" title="kali工具使用"></a>kali工具使用</h1><h2 id="binwalk使用"><a href="#binwalk使用" class="headerlink" title="binwalk使用"></a>binwalk使用</h2><p><font style="color:rgb(77, 77, 77);">从表面上来看这只是一个普通的文件，所以我们通过binwalk工具观察这个图片中是否有隐藏文件</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721534712007-da04c1a2-5b4e-4d4b-935e-935702e94f33-078567.jpeg" srcset="/img/loading.gif" lazyload alt="1721534712007-da04c1a2-5b4e-4d4b-935e-935702e94f33.jpeg"></p>
<h3 id="通过binwalk观察图片里面是否包含其他文件"><a href="#通过binwalk观察图片里面是否包含其他文件" class="headerlink" title="通过binwalk观察图片里面是否包含其他文件"></a>通过binwalk观察图片里面是否包含其他文件</h3><p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721534742420-e0aae4c9-c3d6-4be8-9c97-38cd606e9676-939587.png" srcset="/img/loading.gif" lazyload alt="1721534742420-e0aae4c9-c3d6-4be8-9c97-38cd606e9676.png"></p>
<p><font style="color:rgb(77, 77, 77);">通过图片我们可以发现，图片中还隐藏了一个zip文件，因此我们要将zip文件提取出来。</font></p>
<h2 id="foremost的使用"><a href="#foremost的使用" class="headerlink" title="foremost的使用"></a><font style="color:rgb(77, 77, 77);">foremost的使用</font></h2><h3 id="通过foremost工具将隐藏文件提取出来"><a href="#通过foremost工具将隐藏文件提取出来" class="headerlink" title="通过foremost工具将隐藏文件提取出来"></a><font style="color:rgb(79, 79, 79);">通过foremost工具将隐藏文件提取出来</font></h3><p><font style="color:rgb(77, 77, 77);">Kali Linux提供一款还原专用工具Foremost。该工具通过分析不同类型文件的头、尾和内部数据结构，同镜像文件的数据进行比对，以还原文件。</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721534817317-58e0778d-d41d-47c9-85a2-0daa18ac8ef7-090734.png" srcset="/img/loading.gif" lazyload alt="1721534817317-58e0778d-d41d-47c9-85a2-0daa18ac8ef7.png"></p>
<p><font style="color:rgb(77, 77, 77);">foremost命令会在当前文件夹下生成一个output文件夹，我们打开output文件夹可以看见有三个文件：</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721534867048-cfb35324-ef76-4b05-a0f6-27d95d489e8a-550528.png" srcset="/img/loading.gif" lazyload alt="1721534867048-cfb35324-ef76-4b05-a0f6-27d95d489e8a.png"></p>
<p><font style="color:rgb(77, 77, 77);">其中的jpg文件夹里面就是我们刚才看到的图片。zip文件夹下存放了一个压缩包，我们点击这个压缩包，发现里面存放了一个flag.txt，我们想要寻找的flag信息应该就存放在这个flag下面。之后我们点击flag.txt，发现需要密码：</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721534882149-2d12eb22-371b-4abb-ac4d-d1d27b38046d-920547.png" srcset="/img/loading.gif" lazyload alt="1721534882149-2d12eb22-371b-4abb-ac4d-d1d27b38046d.png"></p>
<p><font style="color:rgb(77, 77, 77);">这时我们需要通过zip2john工具进行解码</font></p>
<h2 id="zip2join的使用"><a href="#zip2join的使用" class="headerlink" title="zip2join的使用"></a><font style="color:rgb(77, 77, 77);">zip2join的使用</font></h2><h3 id="通过zip2john工具破解压缩包的密码"><a href="#通过zip2john工具破解压缩包的密码" class="headerlink" title="通过zip2john工具破解压缩包的密码"></a><font style="color:rgb(79, 79, 79);">通过zip2john工具破解压缩包的密码</font></h3><p><font style="color:rgb(77, 77, 77);">刚才我们通过foremost工具将zip文件提取出来之后，解压zip文件的时候，发现文件有密码，首先输入如下命令：</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">zip2john ./output/zip/00000159.zip password.txt<br></code></pre></td></tr></table></figure>

<ul>
<li><code>zip2john</code>：从 ZIP 文件中提取哈希。</li>
<li><code>./output/zip/00000159.zip</code>：要提取的 ZIP 文件路径。</li>
<li><code>&gt; password.txt</code>：将输出重定向到 <code>password.txt</code> 文件。</li>
</ul>
<p><font style="color:rgb(77, 77, 77);">得到password.txt文件，再输入如下命令：</font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">john password.txt<br></code></pre></td></tr></table></figure>

<p><font style="color:rgb(77, 77, 77);">我们便可以看到破解出来的密码：</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721535104886-aa7f80f0-ec51-47c0-bf5b-80453a32486e-224289.png" srcset="/img/loading.gif" lazyload alt="1721535104886-aa7f80f0-ec51-47c0-bf5b-80453a32486e.png"></p>
<p><font style="color:rgb(77, 77, 77);">之后我们按照给出的密码解压文件，便可以看到flag信息：</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721535117087-9c372e07-09f5-468d-a805-bec799a41f0d-616416.png" srcset="/img/loading.gif" lazyload alt="1721535117087-9c372e07-09f5-468d-a805-bec799a41f0d.png"></p>
<h2 id="zsteg的使用"><a href="#zsteg的使用" class="headerlink" title="zsteg的使用"></a>zsteg的使用</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_52941926/article/details/121536324">一个比StegSolve更方便的工具—zsteg-CSDN博客</a></p>
<p><font style="color:rgb(33, 37, 41);">根据题目提示，flag在图片数据中，我们用刚下载的zsteg，</font></p>
<p><font style="color:rgb(33, 37, 41);">用这个命令：（zsteg misc17.png ） , </font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722229616462-a9951747-cbf4-4ddc-80ed-aab4cbe27f13-968397.png" srcset="/img/loading.gif" lazyload alt="1722229616462-a9951747-cbf4-4ddc-80ed-aab4cbe27f13.png"></p>
<p><font style="color:rgb(33, 37, 41);">然后我们用zsteg提取文件名为flag.txt，</font></p>
<p><font style="color:rgb(33, 37, 41);">具体命令是：（zsteg -e extradata:0 misc17.png &gt; flag.txt ） ，</font></p>
<p><font style="color:rgb(33, 37, 41);"> 我们查看flag.txt，里面什么也没有，</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722229641546-ec2c771e-f038-454b-ad30-9059ba9bf492-285667.png" srcset="/img/loading.gif" lazyload alt="1722229641546-ec2c771e-f038-454b-ad30-9059ba9bf492.png"></p>
<p><font style="color:rgb(33, 37, 41);">我们再次用binwalk查看这个flag.txt文件用这个命令（binwalk flag.txt）,</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722229659789-5e207ca4-08d0-4d91-8414-05f4a1b2c6b9-505080.png" srcset="/img/loading.gif" lazyload alt="1722229659789-5e207ca4-08d0-4d91-8414-05f4a1b2c6b9.png"></p>
<p><font style="color:rgb(33, 37, 41);"> 然后我们再用binwalk去提取也就是这个命令（binwalk -e flag.txt ）， </font></p>
<p><font style="color:rgb(33, 37, 41);">如果命令报错，我们在后面加上这个（–run-as&#x3D;root）也就是（binwalk -e flag.txt –run-as&#x3D;root）这个命令。</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722229707018-fc66d563-d22f-4dd9-a380-461395f614f6-378268.png" srcset="/img/loading.gif" lazyload alt="1722229707018-fc66d563-d22f-4dd9-a380-461395f614f6.png"></p>
<p>ctfshow{0fe61fc42e8bbe55b9257d251749ae45}</p>
<p><font style="color:rgb(33, 37, 41);">补充：在那里写extradata:0是因为用zsteg查看misc17的隐藏数据时候发现了这个错误，以后要是还发现类似错误要记得改了这里。</font></p>
<h1 id="word隐写"><a href="#word隐写" class="headerlink" title="word隐写"></a>word隐写</h1><p><font style="color:rgb(33, 37, 41);">文件————选项——————隐藏文字</font></p>
<p><font style="color:rgb(33, 37, 41);">转换成txt文档也可以看到flag</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1715054146758-623905de-c1f4-4658-91ff-83bad4339b94-672976.png" srcset="/img/loading.gif" lazyload alt="1715054146758-623905de-c1f4-4658-91ff-83bad4339b94.png"></p>
<h1 id="图片隐写图片-foremost"><a href="#图片隐写图片-foremost" class="headerlink" title="图片隐写图片 foremost"></a>图片隐写图片 foremost</h1><p>用winhex打开后搜索文件头</p>
<p>PNG 89504E47 AE426082</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721534005331-039c8886-51a0-42b6-b33f-fbd0edb13b1f-785981.png" srcset="/img/loading.gif" lazyload alt="1721534005331-039c8886-51a0-42b6-b33f-fbd0edb13b1f.png"></p>
<p>发现有两个png开头文件名，判断是图片隐写图片</p>
<p><font style="color:rgb(33, 37, 41);">使用kali中的binwalk工具可以进行查看，再使用foremost工具分离，即可获得flag</font></p>
<h2 id=""><a href="#" class="headerlink" title=""></a><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721539254449-501db621-4cc5-4e99-a84d-b0975be3491c-892982.png" srcset="/img/loading.gif" lazyload alt="1721539254449-501db621-4cc5-4e99-a84d-b0975be3491c.png"></h2><p><font style="color:rgb(77, 77, 77);">foremost命令会在当前文件夹下生成一个output文件夹，我们打开output文件夹可以看见有三个文件</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721539350281-6cc0a2ec-2f7e-43f4-a2cb-0bfba9874791-851067.png" srcset="/img/loading.gif" lazyload alt="1721539350281-6cc0a2ec-2f7e-43f4-a2cb-0bfba9874791.png"></p>
<p>png文件夹里面有两张png，其中就有我们的flag</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721539382384-a70b6082-5773-4558-98b2-748130f2eaf0-069891.png" srcset="/img/loading.gif" lazyload alt="1721539382384-a70b6082-5773-4558-98b2-748130f2eaf0.png"></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721539469329-29d09708-cbe3-4d34-97e1-88a2a30c729e-403444.png" srcset="/img/loading.gif" lazyload alt="1721539469329-29d09708-cbe3-4d34-97e1-88a2a30c729e.png"></p>
<p>ctfshow{1df0a9a3f709a2605803664b55783687}</p>
<h1 id="图片删除IDAT（Tweakpng）"><a href="#图片删除IDAT（Tweakpng）" class="headerlink" title="图片删除IDAT（Tweakpng）"></a>图片删除IDAT（Tweakpng）</h1><p><a target="_blank" rel="noopener" href="https://xiazai.zol.com.cn/detail/47/460122.shtml">【TweakPNG下载】PNG图像浏览(TweakPNG) 1.4.5-ZOL软件下载</a></p>
<h1 id="图片宽高修改"><a href="#图片宽高修改" class="headerlink" title="图片宽高修改"></a>图片宽高修改</h1><h2 id="png-第二行"><a href="#png-第二行" class="headerlink" title="png 第二行"></a>png 第二行</h2><h2 id="jpg-ffc2后面3组"><a href="#jpg-ffc2后面3组" class="headerlink" title="jpg ffc2后面3组"></a>jpg ffc2后面3组</h2><p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1729739496204-0fcf2c16-4829-4e7e-a8b9-6213666fde82-669171.png" srcset="/img/loading.gif" lazyload alt="1729739496204-0fcf2c16-4829-4e7e-a8b9-6213666fde82.png"></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1729738671828-36a4e6be-4cfb-44ec-ad94-e8993c5de042-496226.png" srcset="/img/loading.gif" lazyload alt="1729738671828-36a4e6be-4cfb-44ec-ad94-e8993c5de042.png"></p>
<h1 id="图片分类"><a href="#图片分类" class="headerlink" title="图片分类"></a>图片分类</h1><h2 id="png"><a href="#png" class="headerlink" title="png"></a>png</h2><h3 id="crc32爆破"><a href="#crc32爆破" class="headerlink" title="crc32爆破"></a>crc32爆破</h3><p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722418142230-f739c136-5ecc-4738-8168-c5424d2a09fd-800058.png" srcset="/img/loading.gif" lazyload alt="1722418142230-f739c136-5ecc-4738-8168-c5424d2a09fd.png"></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722418182473-67a01e3c-6e77-4885-a82f-4525676b312f-834533.png" srcset="/img/loading.gif" lazyload alt="1722418182473-67a01e3c-6e77-4885-a82f-4525676b312f.png"></p>
<h1 id="ctfshow-misc入门"><a href="#ctfshow-misc入门" class="headerlink" title="ctfshow misc入门"></a>ctfshow misc入门</h1><h2 id="1、改后缀名"><a href="#1、改后缀名" class="headerlink" title="1、改后缀名"></a>1、改后缀名</h2><p>给了一个txt文件</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721530867903-b160973e-73f3-48e2-8271-67395883788e-397458.png" srcset="/img/loading.gif" lazyload alt="1721530867903-b160973e-73f3-48e2-8271-67395883788e.png"></p>
<p>看到开头是89 50 4E 47 0D 0A 1A 01,典型的png开头格式</p>
<p>非预期：看到后面有个ng，盲猜是png哈哈哈</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721530970382-dc2b63e4-583c-4ee2-9de2-4643e620a363-148498.png" srcset="/img/loading.gif" lazyload alt="1721530970382-dc2b63e4-583c-4ee2-9de2-4643e620a363.png"></p>
<p>修改后缀名后得到flag</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721531075324-2af49cbd-7c82-4b7e-84e7-c89b7c9c0af5-338711.png" srcset="/img/loading.gif" lazyload alt="1721531075324-2af49cbd-7c82-4b7e-84e7-c89b7c9c0af5.png"></p>
<p>ctfshow{6f66202f21ad22a2a19520cdd3f69e7b}</p>
<h2 id="2、图片附加"><a href="#2、图片附加" class="headerlink" title="2、图片附加"></a>2、图片附加</h2><p>放入winhex文本搜索，找一下flag</p>
<p>注意要改成ASCII</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721533018558-200ec574-c30c-44b1-b59e-582e63e077fa-543321.png" srcset="/img/loading.gif" lazyload alt="1721533018558-200ec574-c30c-44b1-b59e-582e63e077fa.png"></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721532629177-f7b7ac2f-2653-4153-b0d5-e8017bc8b2bc-157668.png" srcset="/img/loading.gif" lazyload alt="1721532629177-f7b7ac2f-2653-4153-b0d5-e8017bc8b2bc.png"></p>
<h2 id="3、misc10-binwalk"><a href="#3、misc10-binwalk" class="headerlink" title="3、misc10 binwalk"></a>3、misc10 binwalk</h2><p>用winhex打开后搜索文件头</p>
<h4 id="PNG-89504E47-AE426082"><a href="#PNG-89504E47-AE426082" class="headerlink" title="PNG 89504E47 AE426082"></a>PNG 89504E47 AE426082</h4><p>没搜到没关系</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721552601695-f99eaca6-7241-45b9-8178-a894c4a0eee0-956843.png" srcset="/img/loading.gif" lazyload alt="1721552601695-f99eaca6-7241-45b9-8178-a894c4a0eee0.png"></p>
<p>binwalk -e misc10.png</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1721552673915-609cbb49-5669-4cf7-92e7-39f9cca2bcc5-366071.png" srcset="/img/loading.gif" lazyload alt="1721552673915-609cbb49-5669-4cf7-92e7-39f9cca2bcc5.png"></p>
<h2 id="4、misc11-tweakpng"><a href="#4、misc11-tweakpng" class="headerlink" title="4、misc11 tweakpng"></a>4、misc11 tweakpng</h2><p>用winhex打开搜索文件头8950</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722153892231-5cdd1d87-5c1e-4d44-9457-cfb16f9f8f76-617566.png" srcset="/img/loading.gif" lazyload alt="1722153892231-5cdd1d87-5c1e-4d44-9457-cfb16f9f8f76.png"></p>
<p>只有一次说明只有一张照片</p>
<p>用kali的binwalk看一下发现有两个文件，说明有隐藏文件</p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722154001851-09b4f908-068c-4ed1-8cfb-8f537bf3d992-199528.png" srcset="/img/loading.gif" lazyload alt="1722154001851-09b4f908-068c-4ed1-8cfb-8f537bf3d992.png"></p>
<p><font style="color:rgb(77, 77, 77);">用 010 editor 打开，运行模板 png.bit ，看到图片有两个 IDAT 块。（前面一题 misc10 也有两个 IDAT 块）</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722155299590-223a0034-b066-4ad8-9b54-6265cca526f1-933763.png" srcset="/img/loading.gif" lazyload alt="1722155299590-223a0034-b066-4ad8-9b54-6265cca526f1.png"></p>
<p>放入tweakpng中删除第一个IDAT</p>
<p><font style="color:rgb(77, 77, 77);">用 tweakpng 打开图片，点击第一个 IDAT 块，右键选择删除。</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722155333880-407a6ca3-474a-4351-a010-1c5f0c20e5e0-263033.png" srcset="/img/loading.gif" lazyload alt="1722155333880-407a6ca3-474a-4351-a010-1c5f0c20e5e0.png"></p>
<p><font style="color:rgb(77, 77, 77);">保存之后，再打开图片就得到 flag 了。</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722155366533-c5aeb149-1a24-4d61-81d1-0829fd13a00a-056898.png" srcset="/img/loading.gif" lazyload alt="1722155366533-c5aeb149-1a24-4d61-81d1-0829fd13a00a.png"></p>
<p>ctfshow{44620176948fa759d3eeafeac99f1ce9}</p>
<h2 id="5、misc14-flag在图片里面"><a href="#5、misc14-flag在图片里面" class="headerlink" title="5、misc14 flag在图片里面"></a>5、misc14 flag在图片里面</h2><h3 id="使用命令：binwalk-e-misc14-jpg-有信息显示但是没有生成分离文件夹"><a href="#使用命令：binwalk-e-misc14-jpg-有信息显示但是没有生成分离文件夹" class="headerlink" title="使用命令：binwalk -e misc14.jpg 有信息显示但是没有生成分离文件夹"></a><font style="color:rgb(33, 37, 41);">使用命令：binwalk -e misc14.jpg 有信息显示但是没有生成分离文件夹</font></h3><h3 id="使用命令：binwalk-e-misc14-jpg-D-jpeg-–run-as-root-生成分离文件夹，获得flag"><a href="#使用命令：binwalk-e-misc14-jpg-D-jpeg-–run-as-root-生成分离文件夹，获得flag" class="headerlink" title="使用命令：binwalk -e misc14.jpg -D&#x3D;jpeg –run-as&#x3D;root 生成分离文件夹，获得flag"></a><font style="color:rgb(33, 37, 41);">使用命令：binwalk -e misc14.jpg -D&#x3D;jpeg –run-as&#x3D;root 生成分离文件夹，获得flag</font></h3><ul>
<li><code>-e</code> 或 <code>--extract</code>：提取文件中的嵌入数据。</li>
<li><code>-D=jpeg</code>：指定提取 JPEG 文件。</li>
<li><code>--run-as=root</code>：以 root 用户身份运行 <code>binwalk</code>。</li>
</ul>
<p><font style="color:rgb(33, 37, 41);">或者010Editor中查看jpeg文件文件头FF D8，文件尾巴FF D9，自己组合复制到新的16进制文件中，保存查看。</font></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722226740367-4fc2cde2-6f55-40e5-a749-f755e45ba6a6-090904.png" srcset="/img/loading.gif" lazyload alt="1722226740367-4fc2cde2-6f55-40e5-a749-f755e45ba6a6.png"></p>
<p><img src="/./img/49277317_Y7IwpiPMo_LbkTHd/1722227445187-6b1853cf-1ac0-44eb-913b-c53b8526863f-315949.jpeg" srcset="/img/loading.gif" lazyload alt="1722227445187-6b1853cf-1ac0-44eb-913b-c53b8526863f.jpeg"></p>
<p>ctfshow{ce520f767fc465b0787cdb936363e694}</p>
<blockquote>
<p>更新: 2025-07-19 14:01:22<br>原文: <a target="_blank" rel="noopener" href="https://www.yuque.com/chaye-apqbl/vsc85q/dxmqut5cbvgy266u">https://www.yuque.com/chaye-apqbl/vsc85q/dxmqut5cbvgy266u</a></p>
</blockquote>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div></div>
      <div>http://example.com/2026/01/19/MISC/照片/图片篇/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>chaye</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>January 19, 2026</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2026/01/19/MISC/%E7%85%A7%E7%89%87/%E7%8C%AB%E5%8F%98%E6%8D%A2/" title="">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2026/01/19/MISC/%E7%85%A7%E7%89%87/%E5%9B%BE%E7%89%87%E4%BF%AE%E5%A4%8D/" title="">
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
